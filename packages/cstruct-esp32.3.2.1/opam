opam-version: "1.2"
maintainer:   "anil@recoil.org"
authors:      ["Anil Madhavapeddy" "Richard Mortier" "Thomas Gazagnaire"
               "Pierre Chambart" "David Kaloper" "Jeremy Yallop" "David Scott"
               "Mindy Preston" "Thomas Leonard" ]
homepage:     "https://github.com/mirage/ocaml-cstruct"
license:      "ISC"
dev-repo:     "https://github.com/mirage/ocaml-cstruct.git"
bug-reports:  "https://github.com/mirage/ocaml-cstruct/issues"
tags: [ "org:mirage" "org:ocamllabs" ]
build: [
  ["jbuilder" "subst" "-p" name "--name" name] {pinned}
  ["env" "OCAMLFIND_TOOLCHAIN=esp32" "jbuilder" "build" "-p" "cstruct" "-j" jobs]
]
build-test: ["jbuilder" "runtest" "-p" name]

depends: [
  "jbuilder" {build & >="1.0+beta10"}
  "sexplib-esp32"
  "ounit" {test}
]
available: [ocaml-version >= "4.03.0"]

install: [["opam-installer" "--prefix=%{prefix}%/esp32-sysroot" "cstruct.install"]]