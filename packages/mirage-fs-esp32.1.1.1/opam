opam-version: "2.0"
maintainer:   "Thomas Gazagnaire <thomas@gazagnaire.org>"
authors:      ["Thomas Gazagnaire <thomas@gazagnaire.org>"]
homepage:     "https://github.com/mirage/mirage-fs"
doc:          "https://mirage.github.io/mirage-fs/"
license:      "ISC"
dev-repo: "git+https://github.com/mirage/mirage-fs.git"
bug-reports:  "https://github.com/mirage/mirage-fs/issues"
tags:         ["org:mirage"]

build: [
  ["jbuilder" "subst"] {pinned}
  ["env" "OCAMLFIND_TOOLCHAIN=esp32" "jbuilder" "build" "-p" "mirage-fs" "-j" jobs]
]

depends: [
  "ocaml" {>= "4.03.0"}
  "jbuilder" {build & >= "1.0+beta10"}
  "fmt-esp32"
  "mirage-device-esp32" {>= "1.0.0"}
]
synopsis: "MirageOS signatures for filesystem devices"
description: """
[![Build Status](https://travis-ci.org/mirage/mirage-fs.svg?branch=master)](https://travis-ci.org/mirage/mirage-fs)

mirage-fs provides the `[Mirage_fs.S][fs]` and `[Mirage_fs_lwt.S]` signatures
the MirageOS filesystem devices should implement.

[fs]: http://mirage.github.io/mirage-fs/Mirage_fs.html
[fslwt]: http://mirage.github.io/mirage-fs/Mirage_fs_lwt.html"""
url {
  src:
    "https://github.com/mirage/mirage-fs/releases/download/v1.1.1/mirage-fs-1.1.1.tbz"
  checksum: "md5=8e8f51347c4fec027025c76eda4ff6b5"
}
install: [["opam-installer" "--prefix=%{prefix}%/esp32-sysroot" "mirage-fs.install"]]
